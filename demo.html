<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>Demo</title>
    <style>
        body{
            background: skyblue;
        }
        .wrapper{
            width: 15rem;
            height: 10rem;
            margin: 5rem auto;
        }
        .wrapper input[type='text']{
            width:10rem;
            font-size: 0.5rem;
            border:none;
            outline: none;
            height: 1rem;
            line-height: 1rem;
            padding: 0 0 0 0.5rem;
        }
        .wrapper input[type='text']:focus{
            box-shadow: inset 0.1rem 0.1rem 0.3rem 0.1rem #888;
        }
        .wrapper input[type='button']{
            color:#fff;
            font-size: 0.5rem;
            border: none;
            outline: none;
            background: #aaa;
            height: 1rem;
            line-height: 1rem;
            padding: 0 0.5rem;
            cursor: pointer;
        }
        .wrapper input[type='button']:hover{
            box-shadow: 0.1rem 0.3rem 0.3rem 0.1rem #888;
        }
        ul{
            list-style: none;
            padding: 0 0 0 0.5rem;
            margin: 0;
            background: #fff;
            width: 10rem;
            font-size: 0.5rem;
            line-height: 1rem;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <input class="textInput" type="text" placeholder="请输入拼音后点击搜索...">
        <input class="button" type="button" value="搜索">
        <ul id="dataList"></ul>
    </div>
</body>
</html>
<script type="text/javascript" src="pinyinSearch.js"></script>
<script>
    const Data=["张三","李四","王五","王六"];
    let textInput = document.querySelector('.textInput');
    let button = document.querySelector('.button');
    let dataList = document.querySelector('#dataList');
    button.addEventListener('click',function () {
        let listItems=document.querySelectorAll('li');
        if(listItems.length>0){
            for (let i=0;i<listItems.length;i++){
                console.log(listItems[i]);
                dataList.removeChild(listItems[i]);
            }
        }
        let text=textInput.value,list=null;
        Data.map((value,index)=>{
            if(pinyin().getFullChars(value).indexOf(text.toLowerCase())!=-1||pinyin().getCamelChars(value).indexOf(text.toUpperCase())!=-1){
                list=document.createElement('li');
                list.innerText=value;
                dataList.appendChild(list);
            }
        });
        if(!list){
            list=document.createElement('li');
            list.innerText="暂无相关记录";
            dataList.appendChild(list);
        }
    })
</script>
